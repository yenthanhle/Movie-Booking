<div class="container mt-4 customer-infor">
    <div class="left">
        <div class="btn-group-vertical mt-4">
            <a href="/customer/account" class="btn btn-success mt-4">
                Thông tin chung
            </a>
            <a href="/customer/orders" class="btn btn-outline-success mt-4">
                Hoá đơn
            </a>
        </div>
    </div>
    <div class="right">
        {{#if user}}
        <h2>Thông tin chung</h2>
        <form style="width=100%;" method="POST" action="/customer/account/{{user._id}}/edit?_method=PUT">
            <div class="form-group row flex mt-4">
                <label for="user_name" style="width: 35%;" class="col-form-label" class="label">User
                    name</label>
                <div style="width: 65%;">
                    <input readonly style="width: 70%; text-align: center;" class="form-control" id="user_name"
                        name="user_name" type="text" value="{{user.user_name}}">
                </div>
            </div>
            <div class="form-group row flex hidden">
                <label for="password" style="width: 35%;" class="col-form-label" class="label">Mật khẩu</label>
                <div style="width: 65%;">
                    <input readonly style="width: 70%; text-align: center;" class="form-control" id="password"
                        type="password" value={{user.password}}>
                    <i style="position: absolute; margin-left: 800px;  height: 80%;  opacity: 0.8"
                        class="fa fa-fw fa-eye-slash field-icon mt-3" onclick="passwordClickShowFunction(this)"></i>
                </div>
            </div>

            <div class="form-group row flex mt-4">
                <label for="date_of_birth" style="width: 35%;" class="col-form-label" class="label">Ngày
                    sinh</label>
                <div style="width: 65%;">
                    <input readonly style="width: 70%; text-align: center;" class="form-control" id="date_of_birth"
                        name="date_of_birth" type="date" value={{user.date_of_birth}}>
                </div>
            </div>

            <div class="form-group row flex mt-4">
                <label for="user_name" style="width: 35%;" class="col-form-label" class="label">Số điện
                    thoại</label>
                <div style="width: 65%;">
                    <input readonly style="width: 70%; text-align: center;" class="form-control" id="phone_number"
                        name="phone_number" type="text" value={{user.phone_number}}>
                </div>
            </div>

            <div class="form-group row flex mt-4">
                <label for="user_name" style="width: 35%;" class="col-form-label" class="label">Thành phố /
                    Tỉnh</label>
                <div style="width: 65%;">
                    <input readonly style="width: 70%; text-align: center;" class="form-control" id="address"
                        name="address" type="text" value="{{user.address}}">
                </div>
            </div>
            <button style="margin: auto;" type="submit" id="btnUpdate" class="btn btn-outline-success hidden">Cập
                nhật</button>
            <div class="form-group row flex mt-4">
                <button style="margin: auto;" type="button" id="btnEdit" class="btn btn-outline-success"
                    onclick="clickFunc(this)">Thay đổi thông tin</button>

            </div>
        </form>
        <div class="dropdown-divider"></div>

        <div class="mt-4">
            <form method="POST" action="/customer/avatar/{{user._id}}/update" enctype="multipart/form-data">
                {{!-- <div class="form-field"> --}}
                    {{!-- <label class="label" for="exampleFormControlFile1">Cập nhật ảnh đại diện</label> --}}
                    <br>
                    <input style="margin:auto;" class="" type="file" class="form-control-file"
                        id="exampleFormControlFile1" name="avatar">
                    <br>
                    <button type="submit" class="btn btn-outline-success mt-4">Cập nhật ảnh đại diện</button>
            </form>
        </div>
        {{else}}
        <h2>ERROR!!!</h2>
        {{/if}}
    </div>
</div>

<script>
    function clickFunc(e) {
        const user_name = document.querySelector('#user_name')
        const password = document.querySelector('#password')
        const date_of_birth = document.querySelector('#date_of_birth')
        const address = document.querySelector('#address')
        const phone_number = document.querySelector('#phone_number')
        const btnUpdate = document.querySelector('#btnUpdate')
        user_name.readOnly = false
        password.readOnly = false
        date_of_birth.readOnly = false
        phone_number.readOnly = false
        address.readOnly = false
        e.classList.toggle('hidden')
        btnUpdate.classList.toggle('hidden')
    }
    function passwordClickShowFunction(e) {
        const password = document.querySelector('#password')
        if (password.type == 'password')
            password.type = 'text'
        else
            password.type = 'password'
        e.classList.toggle('fa-eye-slash')
        e.classList.toggle('fa-eye')

    }
</script>